function clampx(x) {
    return (x + w) % w;
}
function clampy(y) {
    return (y + h) % h;
}

rules = [
{
    //                  1
    pattern:"_____"+
            "_____"+
            "__O__"+
            "SSSSS"+
            "*****",

    outcome:"*****"+
            "*****"+
            "D*SO*"+
            "*****"+
            "*****"
},
{
    //                  2
    pattern:"*****"+
            "*****"+
            "*DO**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*****"+
            "*D__*"+
            "**O**"+
            "*****"
},
{
    //                  3
    pattern:"*****"+
            "***_*"+
            "**O_D"+
            "*****"+
            "*****",

    outcome:"*****"+
            "***S*"+
            "**OS*"+
            "*****"+
            "*****"
},
{
    //                  4
    pattern:"*S_**"+
            "*S_**"+
            "*SO**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*_***"+
            "*_O**"+
            "*****"+
            "*****"
},
{
    //                  5
    pattern:"*****"+
            "*_***"+
            "*SO**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*O***"+
            "**_**"+
            "*****"+
            "*****"
},
{
    //                  6
    pattern:"*****"+
            "**_**"+
            "*SO**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "**O**"+
            "**_**"+
            "*****"+
            "*****"
},
{
    //                  7
    pattern:"*****"+
            "*****"+
            "*_O**"+
            "*_S**"+
            "*****",

    outcome:"*****"+
            "*****"+
            "*SO**"+
            "*****"+
            "*****"
},
{
    //                  8
    pattern:"*****"+
            "***S*"+
            "**O**"+
            "**S**"+
            "*****" ,

    outcome:"*****"+
            "*****"+
            "**_O*"+
            "*****"+
            "*****"
},
{
    //                  9
    pattern:"*****"+
            "**S**"+
            "**O**"+
            "***S*"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_O*"+
            "*****"+
            "*****"
},
{
    //                  10
    pattern:"*****"+
            "**S**"+
            "**O**"+
            "**S**"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_O*"+
            "*****"+
            "*****"
},
{
    //                  11
    pattern:"*****"+
            "**_S*"+
            "**O_*"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_O*"+
            "*****"+
            "*****"
},
{
    //                  12
    pattern:"*****"+
            "**S**"+
            "*SOS*"+
            "***_*"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_**"+
            "***O*"+
            "*****"
},
{
    //                  13
    pattern:"*****"+
            "*S_**"+
            "*_O**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "**O**"+
            "**_**"+
            "*****"+
            "*****"
},
{
    //                  14
    pattern:"*****"+
            "*****"+
            "*_O**"+
            "*SS**"+
            "*****",

    outcome:"*****"+
            "*****"+
            "*O_**"+
            "*****"+
            "*****"
},
{
    //                  15
    pattern:"*****"+
            "*****"+
            "**OS*"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_**"+
            "**O**"+
            "*****"
},
{
    //                  16
    pattern:"*****"+
            "**S**"+
            "**O**"+
            "*****"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_O*"+
            "*****"+
            "*****"
},
{
    //                  17
    pattern:"*****"+
            "*****"+
            "**O**"+
            "**_**"+
            "*****",

    outcome:"*****"+
            "*****"+
            "**_**"+
            "**O**"+
            "*****"
}

]